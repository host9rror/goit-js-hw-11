{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export async function imageSearch(value) {\n    const API = '43068097-aa3ed59823608d0655ab40c7d';\n    const defaultURL = \"https://pixabay.com/api/\";\n  \n    const options = {\n      method: 'GET',\n    };\n  \n    const params = new URLSearchParams({\n      key: API,\n      q: value,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true\n    });\n  \n    const URL = `${defaultURL}?${params.toString()}`;\n\n  \n    return fetch(URL, options)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(\"Error\");\n        }\n        return response.json();\n      })\n      .then(data => {\n        if (data.totalHits === 0) {\n          throw new Error(\"Sorry, there are no images matching your search query. Please try again!\");\n        }\n        return data.hits;\n      })\n      .catch(error => {\n        console.error(error);\n        return null;\n      });\n  }","import SimpleLightbox from \"simplelightbox\";\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { imageSearch } from \"./pixabay-api\";\n\nconst lightbox = new SimpleLightbox('.gallery-link', {\n  captionsData: 'alt',\n  captionDelay: 250\n});\n\n\nexport function renderImages(data) {\n  if (!Array.isArray(data)) {\n    console.error(\"Data is not an array or is undefined\");\n    return;\n  }\n\n  const galleryMarkup = data\n    .map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n      return `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img\n            src=\"${webformatURL}\"\n            data-source=\"${largeImageURL}\"\n            alt=\"${tags}\"\n          />\n          <ul class=\"gallery-description\">\n            <li class=\"gallery-dscr_item\"><h3>Likes</h3><p>${likes}</p></li>\n            <li class=\"gallery-dscr_item\"><h3>Views</h3><p>${views}</p></li>\n            <li class=\"gallery-dscr_item\"><h3>Comments</h3><p>${comments}</p></li>\n            <li class=\"gallery-dscr_item\"><h3>Downloads</h3><p>${downloads}</p></li>\n          </ul>\n        </a>\n      </li>`;\n    })\n    .join('');\n\n  galleryImages.innerHTML = galleryMarkup;\n}","import iziToast from \"izitoast\";\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { imageSearch } from \"./js/pixabay-api\";\nimport { renderImages } from \"./js/render-functions\";\n\nconst searchForm = document.querySelector('#search-form');\nconst galleryImages = document.querySelector('.gallery');\nconst loadMove = document.querySelector('.progress');\nloadMove.style.display = 'none';\n\nsearchForm.addEventListener('submit', event => {\n    event.preventDefault();\n\n    galleryImages.innerHTML = '';\n    const query = event.target.querySelector('#search-input').value.trim();\n\n    if (query) {\n        loadMove.style.display = 'flex';\n\n        imageSearch(query)\n          .then(data => {\n            if (data && data.hits && data.hits.length === 0) {\n                iziToast.error({\n                  title: '❌',\n                  icon: '',\n                  message: `Sorry, there are no images matching your search query. Please, try again!`,\n                });\n              } else {\n                renderImages(data.hits);\n              }\n              loadMove.style.display = 'none';\n          })\n          .catch(error => {\n            console.error(error);\n            loadMove.style.display = 'none';\n          });\n    } \n    event.target.reset();\n})\n\n\n\n"],"names":["imageSearch","value","API","defaultURL","options","params","URL","response","data","error","SimpleLightbox","renderImages","galleryMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchForm","galleryImages","loadMove","event","query","iziToast"],"mappings":"6vBAAO,eAAeA,EAAYC,EAAO,CACrC,MAAMC,EAAM,qCACNC,EAAa,2BAEbC,EAAU,CACd,OAAQ,KACd,EAEUC,EAAS,IAAI,gBAAgB,CACjC,IAAKH,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAClB,CAAK,EAEKK,EAAM,GAAGH,CAAU,IAAIE,EAAO,SAAU,CAAA,GAG9C,OAAO,MAAMC,EAAKF,CAAO,EACtB,KAAKG,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,OAAO,EAEzB,OAAOA,EAAS,MACxB,CAAO,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,YAAc,EACrB,MAAM,IAAI,MAAM,0EAA0E,EAE5F,OAAOA,EAAK,IACpB,CAAO,EACA,MAAMC,IACL,QAAQ,MAAMA,CAAK,EACZ,KACR,CACP,CC/BiB,IAAIC,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,GAChB,CAAC,EAGM,SAASC,EAAaH,EAAM,CACjC,GAAI,CAAC,MAAM,QAAQA,CAAI,EAAG,CACxB,QAAQ,MAAM,sCAAsC,EACpD,MACD,CAED,MAAMI,EAAgBJ,EACnB,IAAI,CAAC,CAAE,aAAAK,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KAC1D;AAAA,wCAC2BL,CAAa;AAAA;AAAA,mBAElCD,CAAY;AAAA,2BACJC,CAAa;AAAA,mBACrBC,CAAI;AAAA;AAAA;AAAA,6DAGsCC,CAAK;AAAA,6DACLC,CAAK;AAAA,gEACFC,CAAQ;AAAA,iEACPC,CAAS;AAAA;AAAA;AAAA,YAIrE,EACA,KAAK,EAAE,EAEV,cAAc,UAAYP,CAC5B,CChCA,MAAMQ,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAgB,SAAS,cAAc,UAAU,EACjDC,EAAW,SAAS,cAAc,WAAW,EACnDA,EAAS,MAAM,QAAU,OAEzBF,EAAW,iBAAiB,SAAUG,GAAS,CAC3CA,EAAM,eAAc,EAEpBF,EAAc,UAAY,GAC1B,MAAMG,EAAQD,EAAM,OAAO,cAAc,eAAe,EAAE,MAAM,OAE5DC,IACAF,EAAS,MAAM,QAAU,OAEzBtB,EAAYwB,CAAK,EACd,KAAKhB,GAAQ,CACRA,GAAQA,EAAK,MAAQA,EAAK,KAAK,SAAW,EAC1CiB,EAAS,MAAM,CACb,MAAO,IACP,KAAM,GACN,QAAS,2EAC3B,CAAiB,EAEDd,EAAaH,EAAK,IAAI,EAExBc,EAAS,MAAM,QAAU,MACvC,CAAW,EACA,MAAMb,GAAS,CACd,QAAQ,MAAMA,CAAK,EACnBa,EAAS,MAAM,QAAU,MACrC,CAAW,GAEPC,EAAM,OAAO,OACjB,CAAC"}